package  {		import flash.events.*;	import flash.display.MovieClip;	import flash.net.*;	import flash.text.*;	import fl.controls.*;	import flash.display.Shape;		public class foodItem extends MovieClip {				var closethis;		var roundRect;		//private var foodType:String = new String();		var foodName;		var labelthis;		var myFont:Font = new helvs_light();		var myTextFormat:TextFormat = new TextFormat();		var titleFormat:TextFormat = new TextFormat();		var contents:TextFormat = new TextFormat();		var priceFormat:TextFormat = new TextFormat();		var kjFormat:TextFormat = new TextFormat();				var align_left = -100;		var diff = 15;		var nfTitle:TextField = new TextField();				var myText:TextField = new TextField();		var myDescription:TextField = new TextField();		var myKJ:TextField = new TextField();		var myPrice:TextField = new TextField();		var myCal:TextField = new TextField();		var myFat:TextField = new TextField();		var myCholes:TextField = new TextField();		var myCarbs:TextField = new TextField();		var myProtein:TextField = new TextField();		var myVitA:TextField = new TextField();		var myCalc:TextField = new TextField();		var myVitC:TextField = new TextField();		var myIron:TextField = new TextField();		var myAllergy:TextField = new TextField();				private var foodDescription:String = new String();		private var foodKJ:Number = new Number();		private var foodCal:Number = new Number();		private var foodFat:Number = new Number();		private var foodCholes:Number = new Number();		private var foodCarbs:Number = new Number();		private var foodProtein:Number = new Number();		private var foodVitA:Number = new Number();		private var foodCalc:Number = new Number();		private var foodVitC:Number = new Number();		private var foodIron:Number = new Number();		private var foodPrice:Number = new Number();		private var foodAllergy:String = new String();		private var foodIngredients:Array = new Array();		private var textLoader:URLLoader = new URLLoader();				public var dataArray:Array = new Array();					//var request:URLRequest = new URLRequest('food/desserts/dessertpizza.png');			public function foodItem(detailsFile:String, foodtype:String) {						var filepath = "food/" + foodtype.toLowerCase() + "/" + detailsFile;			textLoader.addEventListener(Event.COMPLETE, sendData);			//foodName = new String();			//url loader			//go through the specific file and set the variables 			//var dessertsArray = new Array("dessertpizza","rwcheesecake","nyccheesecake","cinntart","mudcake","brownie","cbrule");			//this.foodType = foodtype;			textLoader.load(new URLRequest(filepath));						myTextFormat.size = 9;			myTextFormat.align = TextFormatAlign.CENTER;			myTextFormat.font = myFont.fontName;			myTextFormat.color = 0x964145;//ffffff;//0x620c0d;						titleFormat.size = 16;			titleFormat.align = TextFormatAlign.CENTER;			titleFormat.font = myFont.fontName;			titleFormat.color = 0x620c0d;						contents.size = 10;			contents.align = TextFormatAlign.LEFT;			contents.font = myFont.fontName;			contents.color = 0x620c0d;						kjFormat.size = 9;			kjFormat.align = TextFormatAlign.RIGHT;			kjFormat.font = myFont.fontName;			kjFormat.color = 0x964145;						priceFormat.size = 9;			priceFormat.align = TextFormatAlign.LEFT;			priceFormat.font = myFont.fontName;			priceFormat.color = 0x964145;						roundRect = new Shape();			roundRect.graphics.beginFill(0xFFFFFF, 1);			roundRect.graphics.drawRoundRect(0, 0, 250, 350, 15, 15);			roundRect.x = -125;			roundRect.y = -175;			this.addChild(roundRect);						closethis = new TextField();			closethis.defaultTextFormat = titleFormat;			closethis.embedFonts = true;			closethis.text = "X";			closethis.width = 80;			closethis.height = 80;			closethis.x = 70;			closethis.y = -170;			this.addChild(closethis);								}				function sendData(e:Event):void {						dataArray= e.target.data.split(/\n/);						//this.foodName = dataArray[0];									//name			myText.defaultTextFormat = titleFormat;			myText.embedFonts = true;			myText.text = dataArray[0];			this.addChild(myText);			myText.width = 250;			myText.wordWrap = true;			myText.x = myText.width/-2;			myText.y = -140;									//this.foodDescription = dataArray[1];			//description			myDescription.defaultTextFormat = myTextFormat;			myDescription.embedFonts = true;			myDescription.text = dataArray[1];			myDescription.wordWrap = true;			myDescription.width = 300;			myDescription.x = myDescription.width/-2;			myDescription.y = -100;			this.addChild(myDescription);									//this.foodKJ = dataArray[2];			myKJ.defaultTextFormat = kjFormat;			myKJ.embedFonts = true;			myKJ.text = dataArray[2] + " KJ ";			myKJ.wordWrap = true;			myKJ.width = 100;			myKJ.x = -100;			myKJ.y = -70;			this.addChild(myKJ);									//this.foodPrice = dataArray[12];			myPrice.defaultTextFormat = priceFormat;			myPrice.embedFonts = true;			myPrice.text = "|  $" +dataArray[12];			myPrice.wordWrap = true;			myPrice.width = 50;			myPrice.x = 0;			myPrice.y = -70;			this.addChild(myPrice);						nfTitle.defaultTextFormat = titleFormat;			nfTitle.embedFonts = true;			nfTitle.text = "Nutrition Facts";			nfTitle.wordWrap = true;			nfTitle.width = 250;			nfTitle.x = -125;			nfTitle.y = -45;			this.addChild(nfTitle);						//this.foodCal = dataArray[3];			myCal.defaultTextFormat = contents;			myCal.embedFonts = true;			myCal.text = "Calories:  "+ dataArray[3] +" Cal";			myCal.wordWrap = true;			myCal.width = 150;			myCal.x = align_left;			myCal.y = -20;			this.addChild(myCal);						//this.foodFat = dataArray[4];			myFat.defaultTextFormat = contents;			myFat.embedFonts = true;			myFat.text = "Total Fat:  "+ dataArray[4] +"g";			myFat.wordWrap = true;			myFat.width = 150;			myFat.x = align_left;			myFat.y = myCal.y + diff;			this.addChild(myFat);									//this.foodCholes = dataArray[5];			myCholes.defaultTextFormat = contents;			myCholes.embedFonts = true;			myCholes.text = "Cholesterol:  "+ dataArray[5] +"mg";			myCholes.wordWrap = true;			myCholes.width = 150;			myCholes.x = align_left;			myCholes.y = myFat.y + diff;			this.addChild(myCholes);						//this.foodCarbs = dataArray[6];			myCarbs.defaultTextFormat = contents;			myCarbs.embedFonts = true;			myCarbs.text = "Total Carbohydrate:  "+ dataArray[6] +"g";			myCarbs.wordWrap = true;			myCarbs.width = 150;			myCarbs.x = align_left;			myCarbs.y = myCholes.y + diff;			this.addChild(myCarbs);						//this.foodProtein = dataArray[7];			myProtein.defaultTextFormat = contents;			myProtein.embedFonts = true;			myProtein.text = "Protein:  "+ dataArray[7] +"g";			myProtein.wordWrap = true;			myProtein.width = 140;			myProtein.x = align_left;			myProtein.y = myCarbs.y + diff;			this.addChild(myProtein);						//this.foodVitA = dataArray[8];			myVitA.defaultTextFormat = contents;			myVitA.embedFonts = true;			myVitA.text = "Vitamin A: "+ dataArray[8]+"%";			myVitA.wordWrap = true;			myVitA.width = 140;			myVitA.x = align_left;			myVitA.y = myProtein.y + diff;			this.addChild(myVitA);						//this.foodCalc = dataArray[9];			myCalc.defaultTextFormat = contents;			myCalc.embedFonts = true;			myCalc.text = "Calcium: "+ dataArray[9]+"%";			myCalc.wordWrap = true;			myCalc.width = 140;			myCalc.x = align_left;			myCalc.y = myVitA.y + diff;			this.addChild(myCalc);						//this.foodVitC = dataArray[10];			myVitC.defaultTextFormat = contents;			myVitC.embedFonts = true;			myVitC.text = "Vitamin C: "+ dataArray[10]+"%";			myVitC.wordWrap = true;			myVitC.width = 140;			myVitC.x = align_left;			myVitC.y = myCalc.y + diff;			this.addChild(myVitC);						//this.foodIron = dataArray[11];			myIron.defaultTextFormat = contents;			myIron.embedFonts = true;			myIron.text = "Iron: "+ dataArray[11]+"%";			myIron.wordWrap = true;			myIron.width = 140;			myIron.x = align_left;			myIron.y = myVitC.y + diff;			this.addChild(myIron);						//this.foodPrice = dataArray[12];			//this.foodAllergy = dataArray[13];			myAllergy.defaultTextFormat = contents;			myAllergy.embedFonts = true;			myAllergy.text = "Allergen Advice: "+ dataArray[13];			myAllergy.wordWrap = true;			myAllergy.width = 140;			myAllergy.x = align_left;			myAllergy.y = myIron.y + diff;			this.addChild(myAllergy);						for (var k=14; k< dataArray.length; k++){				this.foodIngredients.push(dataArray[k]);			}								}				public function getName():String{			trace("from getname:" + this.foodName);			return this.foodName;		}		public function getClose():Object{			return this.closethis;		}		public function getDescription():String{			return this.foodDescription;		}	}	}